jQuery(function(n) {
    n.fn.foxlazy = function(t, i) {
        var a, r = n(window),
            e = t || 0,
            o = 1 < window.devicePixelRatio ? "data-lazy-src-retina" : "data-lazy-src",
            s = this;

        function l() {
            var t = s.filter(function() {
                var t = n(this),
                    i = r.scrollTop(),
                    a = i + r.height(),
                    o = t.offset().top,
                    s = o + t.height();
                return i - e <= s && o <= a + e
            });
            a = t.trigger("foxlazy"), s = s.not(a)
        }
        return this.one("foxlazy", function() {
            var t = this.getAttribute(o);
            (t = t || this.getAttribute("data-lazy-src")) && (this.setAttribute("src", t), n(this).hasClass("s-img-switch") && (n(this).parent().css("background-image", "url(" + t + ")"), n(this).hide())), "function" == typeof i && i.call(this)
        }), r.on("load.foxlazy scroll.foxlazy resize.foxlazy lookup.foxlazy", l), l(), this
    }, n("img[data-lazy-src]").foxlazy()
});